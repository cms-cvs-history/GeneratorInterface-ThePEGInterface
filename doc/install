{{{
scramv1 project CMSSW CMSSW_1_7_5
}}}

{{{
export MYPREFIX=/portal/ekpcms3/home/stober/32bit
export EXTDIR=$CMSSW_BASE/external/slc4_ia32_gcc345
export SITECONFDIR=$CMSSW_BASE/config/site
}}}

{{{
mkdir -p $EXTDIR/ThePEG
cd $EXTDIR/ThePEG
ln -s $MYPREFIX/lib/ThePEG lib
ln -s $MYPREFIX/include include

cat >> $SITECONFDIR/tools-STANDALONE.conf << EOF
TOOL:ThePEG:
  +THEPEG_BASE:$EXTDIR/ThePEG/
  +LIBDIR:$EXTDIR/ThePEG/lib
  +INCLUDE:$EXTDIR/ThePEG/include
EOF

cat >> $EXTDIR/ThePEG/ThePEG << EOF
# -*- toolbox -*-
<doc type=BuildSystem::ToolDoc version=1.0>
<Tool name=ThePEG version=1.1.0>
<info url=http://projects.hepforge.org/thepeg/></info>
<lib name=ThePEG>
<Client>
<Environment name=THEPEG_BASE>$EXTDIR/ThePEG/</Environmen
t>
<Environment name=LIBDIR default="\$THEPEG_BASE/lib/"></Environment>
<Environment name=INCLUDE default="\$THEPEG_BASE/include/"></Environment>
</Client>
<use name=sockets>
</Tool>
EOF

scramv1 setup -f $SITECONFDIR/tools-STANDALONE.conf ThePEG 1.1.0 file:$EXTDIR/ThePEG/ThePEG
}}}

{{{
mkdir -p $EXTDIR/Herwigpp
cd $EXTDIR/Herwigpp
ln -s $MYPREFIX/lib/Herwig++ lib
ln -s $MYPREFIX/include/Herwig++ include

cat >> $SITECONFDIR/tools-STANDALONE.conf << EOF
TOOL:Herwigpp:
  +HERWIGPP_BASE:$EXTDIR/Herwigpp/
  +LIBDIR:$EXTDIR/Herwigpp/lib
  +INCLUDE:$EXTDIR/Herwigpp/include
EOF

cat >> $EXTDIR/Herwigpp/Herwigpp << EOF
# -*- toolbox -*-
<doc type=BuildSystem::ToolDoc version=1.0>
<Tool name=Herwigpp version=2.1.0>
<info url=http://projects.hepforge.org/herwig/></info>
<lib name=Herwig>
<Client>
<Environment name=HERWIGPP_BASE>$EXTDIR/Herwigpp</Environment>
<Environment name=LIBDIR default="\$HERWIGPP_BASE/lib/"></Environment>
<Environment name=INCLUDE default="\$HERWIGPP_BASE/include/">
</Environment>
</Client>
<use name=sockets>
</Tool>
EOF

scramv1 setup -f $SITECONFDIR/tools-STANDALONE.conf Herwigpp 2.1.0 file:$EXTDIR/Herwigpp/Herwigpp
}}}

{{{
mkdir -p $CMSSW_BASE/src/GeneratorInterface
cd $CMSSW_BASE/src/GeneratorInterface
svn co svn://ekpwww.physik.uni-karlsruhe.de/EKP_Herwig/ThePEGInterface
cd ThePEGInterface

scramv1 b

cd test
cmsRun GEN.cfg
}}}
